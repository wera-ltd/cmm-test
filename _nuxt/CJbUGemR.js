import M from"./BUDrsZWp.js";import{m as F,n as O,p as N,g as T,q as E,z as y,o as c,w as m,a as s,c as v,F as V,L as H,k as p,t as b,A as w,b as d,b3 as z,d as h,M as A,C as Q,X as R,b7 as I,an as _,ao as x,b8 as q,H as W,s as G,y as $,Z as U,Q as X,r as Z,aA as J,D as K,W as Y}from"./BrJnWHkI.js";import{u as ee}from"./DI39Uu-M.js";import se from"./DmHo3d8U.js";import{_ as B}from"./H_KqqaUY.js";import te from"./BFG4I37h.js";import le from"./DxNRvDma.js";import{_ as oe}from"./D3QLCBbe.js";import"./CXnaL6dH.js";import"./jnxSfvbI.js";const j=F(()=>{const i=O({key:()=>["info"],query:()=>ee().customer.customerPropertyGet().then(t=>t.data),staleTime:6e5}),e=N(()=>{var a;const t=(a=i==null?void 0:i.data)==null?void 0:a.value.work_data_list;if(console.log(t),!t)return[];const o=[];return t.pending&&t.pending.forEach(l=>{o.push({...l,state:"pending"})}),t.complate&&t.complate.forEach(l=>{o.push({...l,state:"complete"})}),o.sort((l,r)=>{const f=new Date(l.created_at);return new Date(r.created_at).getTime()-f.getTime()})});return{...i,workData:e}}),ne={class:"flex flex-col gap-3"},ae={class:"list-none p-0 m-0 flex flex-col gap-1"},re={class:"flex items-center gap-2"},ie={class:"text-surface-500 dark:text-surface-100"},ce={class:"ml-auto font-medium"},ue={key:0,class:"text-teal-500"},de={key:1,class:"text-yellow-500"};const pe={class:"text-xxs text-gray-400"},me=T({__name:"TaskMonitoring",setup(i,{expose:e}){const t=E("$elTaskMonitoring");e({toggle:l=>{var r;(r=t.value)==null||r.toggle(l)}});const{workData:a}=j();return(l,r)=>{const f=M;return c(),y(f,{ref_key:"$elTaskMonitoring",ref:t},{default:m(()=>[s("div",ne,[r[0]||(r[0]=s("div",{class:""},[s("h2",{class:"font-semibold block text-sm"}," 작업 현황 ")],-1)),s("div",null,[s("ul",ae,[(c(!0),v(V,null,H(p(a),(n,u)=>(c(),v("li",{key:u,class:"text-xs bg-gray-50 p-2 rounded-md"},[s("div",re,[s("div",null,[s("span",ie," 작업자: "+b(n.worker_name),1)]),s("div",ce,[n.state==="complete"?(c(),v("span",ue," 작업완료 ")):w("",!0),n.state==="pending"?(c(),v("span",de," 작업대기 ")):w("",!0),w("",!0)])]),s("p",pe,b(n.created_at),1)]))),128))])])])]),_:1},512)}}}),fe={class:"flex flex-col gap-3"},ve={class:"flex flex-col gap-1"},_e={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},xe={class:"ml-auto font-medium"},ye={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},he={class:"ml-auto font-medium"},ke={class:"mt-2"},ge={class:"flex flex-col gap-1"},$e={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},be={class:"ml-auto font-medium"},Ce={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},we={class:"ml-auto font-medium"},Te={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},Se={class:"ml-auto font-medium"},Ee=T({__name:"TransmissionErrorStatus",setup(i,{expose:e}){const t=E("$elTransmissionErrorStatus");return e({toggle:a=>{var l;(l=t.value)==null||l.toggle(a)}}),(a,l)=>{const r=z,f=M;return c(),y(f,{ref_key:"$elTransmissionErrorStatus",ref:t},{default:m(()=>[s("div",fe,[l[6]||(l[6]=s("h2",{class:"font-semibold block text-sm"}," 전송 에러 현황 ",-1)),s("div",ve,[s("div",_e,[l[0]||(l[0]=s("span",{class:"text-surface-500 dark:text-surface-100"}," 1. 전송실패오류 ",-1)),s("div",xe,[d(r,{value:"12",severity:"danger",class:"rounded-full!"})])]),s("div",ye,[l[1]||(l[1]=s("span",{class:"text-surface-500 dark:text-surface-100"}," 2. 신규 매핑 재전송 ",-1)),s("div",he,[d(r,{value:"0",severity:"secondary",class:"rounded-full! bg-white!"})])])]),s("div",ke,[l[5]||(l[5]=s("p",{class:"text-sm mb-1"}," 매핑 정보 ",-1)),s("div",ge,[s("div",$e,[l[2]||(l[2]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 옵션 변경건 ",-1)),s("div",be,[d(r,{value:"12",severity:"danger",class:"rounded-full! bg-yellow-500!"})])]),s("div",Ce,[l[3]||(l[3]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 매핑 부분완료 ",-1)),s("div",we,[d(r,{value:"0",severity:"danger",class:"rounded-full! bg-yellow-500!"})])]),s("div",Te,[l[4]||(l[4]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 매핑 미완료 ",-1)),s("div",Se,[d(r,{value:"0",severity:"danger",class:"rounded-full! bg-yellow-500!"})])])])])])]),_:1},512)}}}),De={class:"pl-4 md:max-h-16 py-4 pr-4 flex md:flex-row flex-col items-center justify-between gap-4 js-header"},Le={key:0,class:"flex items-center w-full justify-between"},Ae={class:"flex items-center"},Pe={key:1,class:"pi pi-file-check text-xl!"},Me={class:"text-[0.8rem] text-[#484848] font-semibold"},Be={class:"text-xs text-[#888888] block font-light mt-0.25"},je={class:"flex items-center gap-2"},Fe={class:"ppc-progress"},Oe={class:"ppc-percents"},Ne={class:"pcc-percents-wrapper"},Ve=T({__name:"DashboardHeader",setup(i){const e=E("$elTaskMonitoringPopover"),t=E("$elTransmissionErrorStatusPopover"),o=n=>{var u;(u=e.value)==null||u.toggle(n)},a=n=>{var u;(u=t.value)==null||u.toggle(n)},{data:l,isLoading:r,workData:f}=j();return(n,u)=>{const k=se,D=me,L=Ee;return c(),v("header",De,[!p(r)&&p(l)?(c(),v("div",Le,[s("div",Ae,[s("button",{class:"cursor-pointer bg-[#ffffff] mr-2 w-8 h-8 flex items-center text-[#4b4b4c] rounded-full justify-center hover:surface-100 dark:hover:surface-800 transition-all duration-300",onClick:o},[p(f).length>0?(c(),y(k,{key:0,severity:"danger",class:"inline-flex"},{default:m(()=>u[0]||(u[0]=[s("i",{class:"pi pi-file-check text-xl!"},null,-1)])),_:1,__:[0]})):(c(),v("i",Pe))]),d(D,{ref_key:"$elTaskMonitoringPopover",ref:e,class:"w-2/3"},null,512),s("p",Me,[h(" 종료일: "+b(p(l).expiration_date)+" ",1),s("small",Be,b(p(l).service_name),1)])]),s("div",je,[s("div",{class:A(["progress-pie-chart",{"gt-50":parseInt(p(l).use_product_ratio.replace("%",""))>50}])},[s("div",Fe,[s("div",{class:"ppc-progress-fill",style:Q({transform:`rotate(${360*parseInt(p(l).use_product_ratio.replace("%",""))/100}deg)`})},null,4)]),s("div",Oe,[s("div",Ne,[s("span",null,b(p(l).use_product_ratio),1)])])],2),u[2]||(u[2]=s("button",{class:"cursor-pointer w-6 h-full text-[#4b4b4c] rounded-md hover:bg-surface-100 active:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300"},[s("div",{class:"flex items-center justify-center hover:animate-spin active:animate-spin"},[s("i",{class:"pi pi-sync text-lg!"})])],-1)),s("button",{class:"cursor-pointer w-6 h-full text-[#4b4b4c] flex items-center justify-center rounded-md bder hover:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300",onClick:a},u[1]||(u[1]=[s("i",{class:"pi pi-exclamation-triangle text-lg! hover:text-red-500 active:text-red-500"},null,-1)])),d(L,{ref_key:"$elTransmissionErrorStatusPopover",ref:t,class:"w-2/3 after:left-[95%]! before:left-[95%]!"},null,512),u[3]||(u[3]=s("button",{type:"button",class:"cursor-pointer w-6 h-full text-[#4b4b4c] rounded-md hover:bg-surface-100 active:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300"},[s("i",{class:"pi pi-bell text-lg!"})],-1))])])):w("",!0)])}}});var He=R.extend({name:"styleclass-directive"}),ze=I.extend({style:He}),Qe=ze.extend("styleclass",{mounted:function(e,t){e.setAttribute("data-pd-styleclass",!0),this.bind(e,t)},unmounted:function(e){this.unbind(e)},methods:{bind:function(e,t){var o=this,a=this.resolveTarget(e,t);this.$el=a,e.$_pstyleclass_clicklistener=function(){t.value.toggleClass?q(a,t.value.toggleClass)?x(a,t.value.toggleClass):_(a,t.value.toggleClass):a.offsetParent===null?o.enter(a,e,t):o.leave(a,t)},e.addEventListener("click",e.$_pstyleclass_clicklistener)},unbind:function(e){e.$_pstyleclass_clicklistener&&(e.removeEventListener("click",e.$_pstyleclass_clicklistener),e.$_pstyleclass_clicklistener=null),this.unbindDocumentListener(e)},enter:function(e,t,o){o.value.enterActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,o.value.enterActiveClass.includes("slidedown")&&(e.style.height="0px",x(e,o.value.hiddenClass||o.value.enterFromClass),e.style.maxHeight=e.scrollHeight+"px",_(e,o.value.hiddenClass||o.value.enterActiveClass),e.style.height=""),_(e,o.value.enterActiveClass),o.value.enterFromClass&&x(e,o.value.enterFromClass),e.$p_styleclass_enterlistener=function(){x(e,o.value.enterActiveClass),o.value.enterToClass&&_(e,o.value.enterToClass),e.removeEventListener("animationend",e.$p_styleclass_enterlistener),o.value.enterActiveClass.includes("slidedown")&&(e.style.maxHeight=""),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_enterlistener)):(o.value.enterFromClass&&x(e,o.value.enterFromClass),o.value.enterToClass&&_(e,o.value.enterToClass)),o.value.hideOnOutsideClick&&this.bindDocumentListener(e,t,o)},leave:function(e,t){t.value.leaveActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,_(e,t.value.leaveActiveClass),t.value.leaveFromClass&&x(e,t.value.leaveFromClass),e.$p_styleclass_leavelistener=function(){x(e,t.value.leaveActiveClass),t.value.leaveToClass&&_(e,t.value.leaveToClass),e.removeEventListener("animationend",e.$p_styleclass_leavelistener),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_leavelistener)):(t.value.leaveFromClass&&x(e,t.value.leaveFromClass),t.value.leaveToClass&&_(e,t.value.leaveToClass)),t.value.hideOnOutsideClick&&this.unbindDocumentListener(e)},resolveTarget:function(e,t){switch(t.value.selector){case"@next":return e.nextElementSibling;case"@prev":return e.previousElementSibling;case"@parent":return e.parentElement;case"@grandparent":return e.parentElement.parentElement;default:return document.querySelector(t.value.selector)}},bindDocumentListener:function(e,t,o){var a=this;e.$p_styleclass_documentlistener||(e.$p_styleclass_documentlistener=function(l){!a.isVisible(e)||getComputedStyle(e).getPropertyValue("position")==="static"?a.unbindDocumentListener(e):a.isOutsideClick(l,e,t)&&a.leave(e,o)},e.ownerDocument.addEventListener("click",e.$p_styleclass_documentlistener))},unbindDocumentListener:function(e){e.$p_styleclass_documentlistener&&(e.ownerDocument.removeEventListener("click",e.$p_styleclass_documentlistener),e.$p_styleclass_documentlistener=null)},isVisible:function(e){return e.offsetParent!==null},isOutsideClick:function(e,t,o){return!o.isSameNode(e.target)&&!o.contains(e.target)&&!t.contains(e.target)}}});const Re={class:"card flex justify-center"},Ie={class:"flex flex-col h-full"},qe={class:"flex items-center justify-between px-6 pt-4 shrink-0"},We={class:"overflow-y-auto"},Ge={class:"list-none p-4 m-0"},Ue={class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple"},Xe={class:"list-none py-0 pl-4 pr-0 m-0 hidden overflow-y-hidden transition-all duration-[400ms] ease-in-out"},Ze={class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple"},Je={class:"list-none py-0 pl-4 pr-0 m-0 hidden overflow-y-hidden transition-all duration-[400ms] ease-in-out"},Ke={class:"mt-auto"},Ye={class:"m-4 flex items-center justify-between cursor-pointer p-4 gap-2 rounded hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors"},es={class:"gap-2 flex items-center text-gray-600"},ss={class:"font-medium"},ts=T({__name:"MenuDrawer",props:{isShowMenu:{type:Boolean,default:!1}},emits:["onClose"],setup(i,{emit:e}){const t=e,{signOut:o,memberInfo:a}=W(),l=f=>{t("onClose",f)},r=()=>{o(),X("/auth/login")};return(f,n)=>{const u=G,k=B,D=le,L=te,g=U,S=Qe;return c(),v("div",Re,[d(L,{visible:i.isShowMenu,"onUpdate:visible":l},{container:m(({closeCallback:C})=>{var P;return[s("div",Ie,[s("div",qe,[n[0]||(n[0]=s("div",{class:"inline-flex items-center gap-2"},[s("img",{src:oe,alt:"logo"})],-1)),d(u,{type:"button",icon:"pi pi-times",rounded:"",outlined:"",class:"text-gray-600! border-gray-600!",onClick:C},null,8,["onClick"])]),s("div",We,[s("ul",Ge,[s("li",null,[$((c(),y(k,{to:"/",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:m(()=>n[1]||(n[1]=[s("i",{class:"pi pi-home mr-2"},null,-1),s("span",{class:"font-medium"},"Dashboard",-1)])),_:2,__:[1]},1032,["onClick"])),[[g]])]),s("li",null,[$((c(),y(k,{to:"/inventory",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:m(()=>n[2]||(n[2]=[s("i",{class:"pi pi-box mr-2"},null,-1),s("span",{class:"font-medium"},"재고관리",-1)])),_:2,__:[2]},1032,["onClick"])),[[g]])]),s("li",null,[$((c(),v("a",Ue,n[3]||(n[3]=[s("i",{class:"pi pi-list mr-2"},null,-1),s("span",{class:"font-medium"},"작업내역",-1),s("i",{class:"pi pi-chevron-down ml-auto text-sm!"},null,-1)]))),[[g],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]]),s("ul",Xe,[s("li",null,[$((c(),y(k,{to:"/task/error-list",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:m(()=>n[4]||(n[4]=[s("i",{class:"pi pi-exclamation-triangle mr-2"},null,-1),s("span",{class:"font-medium"},"작업오류현황",-1)])),_:2,__:[4]},1032,["onClick"])),[[g],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]])])])]),s("li",null,[$((c(),v("a",Ze,n[5]||(n[5]=[s("i",{class:"pi pi-cog mr-2"},null,-1),s("span",{class:"font-medium"},"설정",-1),s("i",{class:"pi pi-chevron-down ml-auto text-sm!"},null,-1)]))),[[g],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]]),s("ul",Je,[s("li",null,[$((c(),y(k,{to:"/setting/user-list",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:m(()=>n[6]||(n[6]=[s("i",{class:"pi pi-calendar-clock mr-2"},null,-1),s("span",{class:"font-medium"},"스케줄설정",-1)])),_:2,__:[6]},1032,["onClick"])),[[g],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]])])])])])]),s("div",Ke,[n[8]||(n[8]=s("hr",{class:"mb-4 mx-4 border-t border-0 border-surface-200 dark:border-surface-700"},null,-1)),s("div",Ye,[s("div",es,[d(D,{icon:"pi pi-user",shape:"circle"}),s("span",ss,b((P=p(a))==null?void 0:P.user_id),1)]),d(u,{rounded:"",outlined:"",class:"text-sm!",severity:"secondary",onClick:r},{default:m(()=>n[7]||(n[7]=[h(" 로그아웃 ")])),_:1,__:[7]})])])])]}),_:1},8,["visible"])])}}}),ls={class:"flex py-1 px-2 bg-white border-t border-[#dedede] max-w-[1280px] fixed bottom-0 left-auto w-full z-100 rounded-tl-3xl rounded-tr-3xl js-bottom-nav"},os=T({__name:"BottomNav",setup(i){const e=Z(!1),t=()=>{e.value=!e.value},o=()=>{e.value=!1};return(a,l)=>{const r=B,f=ts;return c(),v("div",null,[s("nav",ls,[d(r,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/"},{default:m(()=>l[0]||(l[0]=[s("i",{class:"pi pi-home text-xl! mb-0.5"},null,-1),h(" HOME ")])),_:1,__:[0]}),d(r,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/inventory"},{default:m(()=>l[1]||(l[1]=[s("i",{class:"pi pi-box text-lg! mb-0.5"},null,-1),h(" 재고관리 ")])),_:1,__:[1]}),d(r,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:""},{default:m(()=>l[2]||(l[2]=[s("i",{class:"pi pi-map text-lg! mb-0.5"},null,-1),h(" 채널매핑 ")])),_:1,__:[2]}),d(r,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/task/error-list"},{default:m(()=>l[3]||(l[3]=[s("i",{class:"pi pi-history text-lg! mb-0.5"},null,-1),h(" 작업내역 ")])),_:1,__:[3]}),s("button",{class:A(["text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",p(e)?"text-gray-950":"text-gray-400"]),onClick:t},l[4]||(l[4]=[s("i",{class:"pi pi-bars text-lg! mb-0.5"},null,-1),h(" 메뉴 ")]),2)]),d(f,{"is-show-menu":p(e),onOnClose:o},null,8,["is-show-menu"])])}}}),ns=()=>J().$device,as={class:"flex-1 max-w-[1280px] w-full mx-auto flex flex-col transition-all duration-300 h-full overflow-hidden"},xs={__name:"default",setup(i){const{isMobile:e,isTablet:t}=ns();return(o,a)=>{const l=Ve,r=os;return c(),v("div",{class:A(["portrait:h-dvh landscape:min-h-dvh bg-gray-100 dark:bg-surface-950 relative flex overflow-hidden flex-row landscape:pb-[65px]",{"is-touch-device":p(e)||p(t)}])},[s("div",as,[(o._.provides[Y]||o.$route).meta.type==="dashboard"?(c(),y(l,{key:0})):w("",!0),K(o.$slots,"default"),d(r,{class:"shrink-0"})])],2)}}};export{xs as default};
