import{_ as J}from"./CbyzuZyH.js";import R from"./1TEaY8U4.js";import K from"./CfoPG_bg.js";import{g as j,z as U,o as r,w as d,a as e,b as n,s as D,d as p,r as B,p as G,l as I,k as l,t as v,c as u,F as C,L as P,R as X,A as F,M as H,C as Y,N as Q}from"./BMdYdyjj.js";import Z from"./Dtk2T2zO.js";import ee from"./CarGk_eV.js";import{_ as O}from"./Bij32F5W.js";import te from"./DN_4Wid1.js";import{a as se,u as le}from"./BAr3Odsj.js";import{u as oe}from"./DR9ixim-.js";import{u as ne}from"./NyCzCh1I.js";import"./BgA6nwsv.js";import"./BcXGyo-N.js";import"./BQg5j0DL.js";import"./5DIbpFQ4.js";import"./lNbtO6V-.js";import"./B4Kzfla9.js";import"./B0RYkpeH.js";import"./Cfzj4L_I.js";import"./BoRnjSYF.js";import"./DuE8BrvN.js";import"./Cj2nymfZ.js";const ae={class:"border-t border-[var(--space-border)] px-4 py-4 flex-1 overflow-y-auto scrollbar-none"},ie={class:"flex items-center border-b border-gray-200 pb-4 pt-4"},re={class:"mt-4"},de={class:"h-14 shrink-0 w-full flex items-center border-t-gray-100 border-t justify-center px-3 py-2 gap-2"},ue=j({__name:"TimeBulkSetting",emits:["closed"],setup(z,{emit:g}){const y=g;return(c,i)=>{const _=R,f=D,x=O;return r(),U(x,{"content-class":"bg-white w-80 h-[50dvh] flex flex-col","header-class":"shrink-0 border-b border-zinc-200",onClosed:i[1]||(i[1]=m=>y("closed"))},{title:d(()=>i[2]||(i[2]=[e("h1",{class:"font-semibold"}," 시간일괄설정 ",-1)])),default:d(()=>[e("div",ae,[e("div",ie,[n(_,{"time-only":"",placeholder:"시/분",class:"w-full"}),n(f,{icon:"pi pi-times",severity:"secondary",rounded:"",size:"small",variant:"text","aria-label":"Cancel",class:"ml-1"})]),e("div",re,[n(f,{rounded:"",size:"small",outlined:"",severity:"secondary"},{default:d(()=>i[3]||(i[3]=[e("i",{class:"pi pi-plus text-sm!"},null,-1),p(" 시간추가 ")])),_:1,__:[3]})])]),e("div",de,[n(f,{size:"small",class:"w-full h-full text-sm!",severity:"secondary",onClick:i[0]||(i[0]=m=>y("closed"))},{default:d(()=>i[4]||(i[4]=[p(" 닫기 ")])),_:1,__:[4]}),n(f,{size:"small",class:"w-full h-full text-sm!"},{default:d(()=>i[5]||(i[5]=[p(" 설정 ")])),_:1,__:[5]})])]),_:1})}}}),ce={class:"border-t border-[var(--space-border)] px-4 py-4 flex-1 overflow-y-auto scrollbar-none"},me={class:"flex items-center gap-2 text-sm mb-3"},pe={for:"all"},_e={class:"text-primary font-normal"},fe={class:"gap-2 flex flex-col"},ye=["onClick"],xe={class:"flex items-center gap-2"},be=["src"],ve={class:"font-medium block"},ge={class:"text-xs text-gray-500"},he={class:"h-14 shrink-0 w-full flex items-center border-t-gray-100 border-t justify-center px-3 py-2 gap-2"},we=j({__name:"ChannelListSetting",props:{channelList:{}},emits:["closed","confirm"],setup(z,{emit:g}){const y=g,c=z,{getChannelIcon:i}=se(),_=B(c.channelList.map(m=>({...m}))),f=G({get:()=>!_.value||_.value.length===0?!1:_.value.every(m=>m.is_channel),set:m=>{_.value.forEach(s=>{s.is_channel=m})}}),x=()=>{y("confirm",_.value),y("closed")};return(m,s)=>{const k=te,$=D,V=O;return r(),U(V,{"content-class":"bg-white w-full h-dvh flex flex-col","header-class":"shrink-0 border-b border-zinc-200",onClosed:s[3]||(s[3]=o=>y("closed"))},{title:d(()=>s[4]||(s[4]=[e("h1",{class:"font-semibold"}," 판매채널 설정 ",-1)])),default:d(()=>[e("div",ce,[e("div",me,[n(k,{modelValue:l(f),"onUpdate:modelValue":s[0]||(s[0]=o=>I(f)?f.value=o:null),size:"small","input-id":"all",name:"all",binary:!0},null,8,["modelValue"]),e("label",pe,[s[5]||(s[5]=p("총 ")),e("b",_e,v(l(_).length),1),s[6]||(s[6]=p("개 전체선택 "))])]),e("ul",fe,[(r(!0),u(C,null,P(l(_),(o,t)=>(r(),u("li",{key:o.account_id,class:"border rounded-md border-gray-200 p-4 flex justify-between items-center cursor-pointer",onClick:b=>o.is_channel=!o.is_channel},[e("div",xe,[e("span",null,v(t+1)+".",1),e("img",{src:l(i)(o.channel_id),alt:"",class:"w-10 h-10"},null,8,be),e("div",null,[e("strong",ve,v(o.channel_name),1),e("p",ge,v(o.account_id),1)])]),n(k,{modelValue:o.is_channel,"onUpdate:modelValue":b=>o.is_channel=b,size:"small","input-id":`channel-${o.account_id}`,binary:!0,onClick:s[1]||(s[1]=X(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","input-id"])],8,ye))),128))])]),e("div",he,[n($,{size:"small",class:"w-full h-full text-sm!",severity:"secondary",onClick:s[2]||(s[2]=o=>y("closed"))},{default:d(()=>s[7]||(s[7]=[p(" 닫기 ")])),_:1,__:[7]}),n($,{size:"small",class:"w-full h-full text-sm!",onClick:x},{default:d(()=>s[8]||(s[8]=[p(" 설정 ")])),_:1,__:[8]})])]),_:1})}}}),ke={class:"bg-white p-4 border-b-8 border-gray-200"},$e={class:"gap-0.5 flex flex-col text-sm mb-4 text-gray-500"},Ve={class:"text-primary font-semibold"},Ce={class:"flex flex-col gap-2"},ze={class:"flex items-center justify-between"},Le={class:"flex items-center justify-between"},Se={class:"bg-white"},Be={class:"flex flex-col gap-2 relative"},Pe={key:0,class:"absolute w-full h-full bg-white/50 z-10 flex items-center justify-center text-sm font-medium"},je={class:"flex items-center justify-between mb-4"},Ue={class:"flex flex-wrap gap-1"},De={class:"font-medium uppercase text-gray-700"},Me={key:1,class:"font-medium uppercase text-gray-700"},Ne={class:"my-4"},Te={class:"text-sm text-gray-400"},Ae={key:0,class:"block py-4"},Ee={class:"flex items-center justify-between mb-2"},Fe={class:"flex items-center gap-2"},He={class:"font-medium uppercase"},Qe={key:0,class:"flex flex-wrap gap-y-2"},Re={key:1},mt=j({__name:"schedule",setup(z){var V;const g=oe(),{contentHeight:y}=le(),{scheduleData:c,isLoading:i,error:_}=ne(),f=g().format("ddd").toLowerCase(),x=B((V=c==null?void 0:c.value)==null?void 0:V.is_schedule),m=B("mon"),s=G(()=>{var o,t;return(t=(o=c.value)==null?void 0:o.days_list)==null?void 0:t.find(b=>b.day===m.value)}),k=()=>{const{open:o}=Q({component:ue});o()},$=()=>{var b;const{open:o,close:t}=Q({component:we,attrs:{channelList:(b=c.value)==null?void 0:b.channel_list,onConfirm:()=>t()}});o()};return(o,t)=>{var N,T,A,E;const b=J,L=ee,W=Z,h=D,q=K,M=R;return r(),u(C,null,[n(b,{class:""}),e("div",{class:"overflow-auto scrollbar-none",style:Y(`height: ${l(y)}`)},[e("div",ke,[e("div",$e,[e("p",null,[t[3]||(t[3]=p(" • 요일별 최대 추가 가능 슬롯은 ")),e("strong",Ve,v((N=l(c))==null?void 0:N.round)+"개",1),t[4]||(t[4]=p("까지 가능합니다. "))]),t[5]||(t[5]=e("p",null," • 스케줄 설정시 쇼핑몰 설정도 같이 선택하여주시기 바랍니다. ",-1))]),e("div",Ce,[e("div",ze,[t[6]||(t[6]=e("b",{class:"font-medium"},"스케줄 사용여부",-1)),n(L,{modelValue:l(x),"onUpdate:modelValue":t[0]||(t[0]=a=>I(x)?x.value=a:null)},null,8,["modelValue"])]),e("div",Le,[t[8]||(t[8]=e("b",{class:"font-medium"},"쇼핑몰 설정",-1)),e("button",{class:"inline-flex items-center gap-4 text-gray-400 cursor-pointer",onClick:$},[n(W,{severity:"contrast",value:`${(A=(T=l(c))==null?void 0:T.channel_list)==null?void 0:A.length}개 채널`,class:"font-normal! text-sm! rounded-full!"},null,8,["value"]),t[7]||(t[7]=e("i",{class:"pi pi-chevron-right"},null,-1))])])])]),e("div",Se,[e("div",Be,[l(x)?(r(),u("div",Pe," 스케줄을 사용할 수 없습니다. ")):F("",!0),e("article",{class:H([{"opacity-10":l(x)},"p-4"])},[e("header",je,[t[10]||(t[10]=e("h3",{class:"font-medium text-gray-800"}," Weekly schedule ",-1)),n(h,{rounded:"",size:"small",outlined:"",onClick:k},{default:d(()=>t[9]||(t[9]=[p(" 시간일괄설정 ")])),_:1,__:[9]})]),e("div",Ue,[(r(!0),u(C,null,P((E=l(c))==null?void 0:E.days_list,(a,w)=>(r(),u("button",{key:w,class:H(["rounded-lg cursor-pointer border w-[calc(25%-3px)] text-center px-4 py-6 relative border-gray-200 shadow-xs",[{"bg-gray-100":!a.is_day},{"shadow-[0_0_10px]! shadow-gray-400/60!":l(m)===a.day}]])},[l(f)==a.day?(r(),U(q,{key:0,value:"오늘",size:"small",pt:{pcBadge:{root:"font-normal! bg-red-400! outline-1! -top-[55%]!  right-[5%]!"}}},{default:d(()=>[e("strong",De,v(a.day),1)]),_:2},1024)):(r(),u("strong",Me,v(a.day),1)),e("div",Ne,[n(L,{modelValue:a.is_day,"onUpdate:modelValue":S=>a.is_day=S,readonly:"",class:"relative w-10! h-5!",pt:{handle:"w-3! h-3! data-[p=checked]:start-[24px]! top-[60%]! ",slider:"data-[p=checked]:bg-violet-500!"}},null,8,["modelValue","onUpdate:modelValue"])]),e("p",Te,v(a.time.length<1?"-":a.time.length+" slots"),1)],2))),128))]),l(s)?(r(),u("div",Ae,[e("div",Ee,[e("div",Fe,[e("strong",He,v(l(s).day),1),n(L,{modelValue:l(s).is_day,"onUpdate:modelValue":t[1]||(t[1]=a=>l(s).is_day=a),class:"relative w-10! h-5!",pt:{handle:"w-3! h-3! data-[p=checked]:start-[24px]! top-[60%]!",slider:"data-[p=checked]:bg-violet-500!"}},null,8,["modelValue"])]),n(h,{rounded:"",size:"small",outlined:"",severity:"secondary"},{default:d(()=>t[11]||(t[11]=[e("i",{class:"pi pi-plus text-sm!"},null,-1),p(" 시간추가 ")])),_:1,__:[11]})]),l(s).time&&l(s).time.length>0?(r(),u("div",Qe,[(r(!0),u(C,null,P(l(s).time,(a,w)=>(r(),u("div",{key:a+w},[n(M,{modelValue:a[w],"onUpdate:modelValue":S=>a[w]=S,"time-only":"",placeholder:"시/분",class:"w-32"},null,8,["modelValue","onUpdate:modelValue"]),n(h,{icon:"pi pi-times",severity:"secondary",rounded:"",size:"small",variant:"text","aria-label":"Cancel",class:"ml-1"})]))),128))])):(r(),u("div",Re,[n(M,{modelValue:l(s).time[0],"onUpdate:modelValue":t[2]||(t[2]=a=>l(s).time[0]=a),"time-only":"",placeholder:"시/분",class:"w-32"},null,8,["modelValue"]),n(h,{icon:"pi pi-times",severity:"contrast",rounded:"",size:"small",variant:"text","aria-label":"Cancel",class:"ml-1"})]))])):F("",!0),n(h,{type:"button",class:"flex w-full items-center gap-2 text-blue-600! bg-blue-100! border-blue-100!",rounded:""},{default:d(()=>t[12]||(t[12]=[e("span",{class:"text-sm"},"저장",-1)])),_:1,__:[12]})],2)])])],4)],64)}}});export{mt as default};
