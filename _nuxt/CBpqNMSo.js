import{r as m,p as i,K as v,g as y,c as _,o as f,A as H,b,t as k,m as C,n as $}from"./bTkifkby.js";import{_ as B}from"./Bpcq5skJ.js";import{u as N}from"./CCHs8GSu.js";const T=(l=null)=>{const n=m("64px"),o=m("65px"),u=m("0px"),r=i(()=>`calc(100dvh - ${n.value} - ${o.value} - ${u.value})`),p=i(()=>`calc(100dvh - ${n.value})`),h=i(()=>`calc(100dvh - ${o.value})`),d=()=>{{const a=document.querySelector(".js-header");a&&(n.value=a.offsetHeight+"px")}},t=()=>{if(l){const a=document.querySelector(l);a&&(u.value=a.offsetHeight+"px")}},e=()=>{{const a=document.querySelector(".js-bottom-nav");a&&(o.value=a.offsetHeight+"px")}},s=()=>{d(),e(),l&&t()};return{headerHeight:n,bottomNavHeight:o,exceptionHeight:u,contentHeight:r,contentHeightWithHeader:p,contentHeightWithBottomNav:h,updateHeaderHeight:d,updateBottomNavHeight:e,updateExceptionHeight:t,updateAllHeights:s,initializeLayout:()=>{v(()=>{s()})}}},S={class:"mb-4"},V={key:0,class:"block font-medium mb-2 text-md"},q=y({__name:"TreeSelect",props:{title:{},options:{},modelValue:{},placeholder:{},buttonClass:{}},setup(l){return(n,o)=>{const u=B;return f(),_("div",S,[n.title?(f(),_("strong",V,k(n.title),1)):H("",!0),b(u,{"model-value":n.modelValue,options:n.options,placeholder:n.placeholder,"button-class":n.buttonClass,"onUpdate:modelValue":o[0]||(o[0]=r=>n.$emit("update:modelValue",r))},null,8,["model-value","options","placeholder","button-class"])])}}}),I=C(()=>{const l=$({key:["customer","channels"],query:()=>N().customer.customerChannelGet().then(t=>t.data.channel_code_data),staleTime:6e5}),n=i(()=>{var e,s;const t=[];return(s=(e=l==null?void 0:l.data)==null?void 0:e.value)==null||s.forEach(c=>{let a=t.find(g=>g.channel_id===c.channel_id);a||(a={channel_id:c.channel_id,channel_name:c.channel_name,use_yn:c.use_yn,nick_name:c.nick_name,icon_url:c.icon_url,accounts:[]},t.push(a)),a.accounts.includes(c.account_id)||a.accounts.push(c.account_id)}),t}),o=i(()=>{var t;return(t=n.value)==null?void 0:t.filter(e=>e.use_yn==="Y")}),u=i(()=>{var t;return(t=o==null?void 0:o.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||""}))}),r=i(()=>{var t;return(t=o==null?void 0:o.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||"",children:e.accounts.map(s=>({label:s,key:`${e.channel_id}::${s}`}))}))});return{...l,channels:n,channelOptions:u,channelOptionsWithAccount:r,getChannelIcon:t=>{var e;return((e=n.value.find(s=>s.channel_id===t))==null?void 0:e.icon_url)??""},getChannelById:t=>n.value.find(e=>e.channel_id===t),getChannelsByName:t=>n.value.filter(e=>{var s;return(s=e.channel_name)==null?void 0:s.includes(t)})}});export{q as _,I as a,T as u};
