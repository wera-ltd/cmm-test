import v from"./DZbvjC4V.js";import{g as w,r as u,K as m,B as M,y as T,o as h,w as f,c as j,E as B,d as y,t as x,j as d,k as D,m as E}from"./D3im241i.js";const O=["src"],U=w({__name:"TreeMultiSelect",props:{options:{},modelValue:{},placeholder:{default:"선택해주세요"}},emits:["update:modelValue"],setup(k,{emit:b}){const a=k,_=b,g=[{label:"전체",key:"all",children:a.options}],r=u({}),c=m(()=>{const t=Object.entries(r.value).filter(([l,e])=>e.checked===!0).map(([l])=>l),s=[];return a.options.forEach(l=>{l.children&&l.children.length>0?s.push(...l.children):s.push(l)}),s.filter(l=>t.includes(l.key))}),C=m(()=>{if(!c.value||c.value.length===0)return a.placeholder;const t=new Map,s=new Map;return c.value.forEach(e=>{const n=a.options.find(o=>{var i;return(i=o.children)==null?void 0:i.some(V=>V.key===e.key)});if(n){const o=t.get(n.label)||0;t.set(n.label,o+1),s.set(n.label,2)}else{const o=t.get(e.label)||0;t.set(e.label,o+1),s.set(e.label,1)}}),Array.from(t.entries()).map(([e,n])=>s.get(e)===1?e:`${e}(${n}개)`).join(", ")}),p=u({all:!0}),K=t=>{p.value=t};return M(c,t=>{_("update:modelValue",t)}),(t,s)=>{const l=v;return h(),T(l,{modelValue:d(r),"onUpdate:modelValue":s[0]||(s[0]=e=>D(r)?r.value=e:null),options:g,"onUpdate:expandedKeys":K,selectionMode:"checkbox",filter:"",filterMode:"lenient",placeholder:t.placeholder,class:"w-full",expandedKeys:d(p),panelClass:"z-[1200]! text-sm",pt:{labelContainer:"text-sm"}},{value:f(e=>[y(x(d(C)),1)]),option:f(e=>[e.node.icon?(h(),j("img",{key:0,src:e.node.icon},null,8,O)):B("",!0),y(" "+x(e.node.label),1)]),_:1},8,["modelValue","placeholder","expandedKeys"])}}});function $(){return E}export{U as _,$ as u};
