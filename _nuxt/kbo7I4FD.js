import S from"./BmSdwSwl.js";import{g as H,c as d,o as u,A as g,F as f,L as b,a as k,b as p,C,M as B,z as N,r as y,p as m,K as x,t as V,m as z,n as w}from"./yC58Akfr.js";import{_ as L}from"./Bf9rKCjz.js";import{u as A}from"./BVXGDbZy.js";const E={key:0},T={class:"flex"},q={class:"self-center flex-1"},M=H({__name:"Skeleton",props:{type:{type:String,default:"list"},count:{type:Number,default:10},style:{type:String},class:{type:String}},setup(o){const n=o;return(a,r)=>{const c=S;return u(),d(f,null,[o.type==="list"?(u(),d("ul",E,[(u(!0),d(f,null,b(o.count,h=>(u(),d("li",{key:h,class:"mb-4"},[k("div",T,[p(c,{shape:"circle",size:"4rem",class:"mr-2"}),k("div",q,[p(c,{width:"100%",class:"mb-2"}),p(c,{width:"75%"})])])]))),128))])):g("",!0),o.type==="chart"?(u(),d("div",{key:1,class:B(["w-full flex gap-2",n.class]),style:C(n.style)},[(u(!0),d(f,null,b(o.count,h=>(u(),N(c,{key:h,width:`${o.count/100*100}%`,height:"100%"},null,8,["width"]))),128))],6)):g("",!0)],64)}}}),O=(o=null)=>{const n=y("64px"),a=y("65px"),r=y("0px"),c=m(()=>`calc(100dvh - ${n.value} - ${a.value} - ${r.value})`),h=m(()=>`calc(100dvh - ${n.value})`),v=m(()=>`calc(100dvh - ${a.value})`),_=()=>{{const s=document.querySelector(".js-header");s&&(n.value=s.offsetHeight+"px")}},t=()=>{if(o){const s=document.querySelector(o);s&&(r.value=s.offsetHeight+"px")}},e=()=>{{const s=document.querySelector(".js-bottom-nav");s&&(a.value=s.offsetHeight+"px")}},l=()=>{_(),e(),o&&t()};return{headerHeight:n,bottomNavHeight:a,exceptionHeight:r,contentHeight:c,contentHeightWithHeader:h,contentHeightWithBottomNav:v,updateHeaderHeight:_,updateBottomNavHeight:e,updateExceptionHeight:t,updateAllHeights:l,initializeLayout:()=>{x(()=>{l()})}}},I={class:"mb-4"},Q={key:0,class:"block font-medium mb-2 text-md"},U=H({__name:"TreeSelect",props:{title:{},options:{},modelValue:{},placeholder:{},buttonClass:{}},setup(o){return(n,a)=>{const r=L;return u(),d("div",I,[n.title?(u(),d("strong",Q,V(n.title),1)):g("",!0),p(r,{"model-value":n.modelValue,options:n.options,placeholder:n.placeholder,"button-class":n.buttonClass,"onUpdate:modelValue":a[0]||(a[0]=c=>n.$emit("update:modelValue",c))},null,8,["model-value","options","placeholder","button-class"])])}}}),D=z(()=>{const o=w({key:["customer","channels"],query:()=>A().customer.customerChannelGet().then(t=>t.data.channel_code_data),staleTime:6e5}),n=m(()=>{var e,l;const t=[];return(l=(e=o==null?void 0:o.data)==null?void 0:e.value)==null||l.forEach(i=>{let s=t.find($=>$.channel_id===i.channel_id);s||(s={channel_id:i.channel_id,channel_name:i.channel_name,use_yn:i.use_yn,nick_name:i.nick_name,icon_url:i.icon_url,accounts:[]},t.push(s)),s.accounts.includes(i.account_id)||s.accounts.push(i.account_id)}),t}),a=m(()=>{var t;return(t=n.value)==null?void 0:t.filter(e=>e.use_yn==="Y")}),r=m(()=>{var t;return(t=a==null?void 0:a.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||""}))}),c=m(()=>{var t;return(t=a==null?void 0:a.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||"",children:e.accounts.map(l=>({label:l,key:`${e.channel_id}::${l}`}))}))});return{...o,channels:n,channelOptions:r,channelOptionsWithAccount:c,getChannelIcon:t=>{var e;return((e=n.value.find(l=>l.channel_id===t))==null?void 0:e.icon_url)??""},getChannelById:t=>n.value.find(e=>e.channel_id===t),getChannelsByName:t=>n.value.filter(e=>{var l;return(l=e.channel_name)==null?void 0:l.includes(t)})}});export{M as _,D as a,U as b,O as u};
