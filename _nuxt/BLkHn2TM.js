import{r as h,p as s,K as f,m as g,n as v}from"./CTwTMGw3.js";import{u as y}from"./BNegDB_l.js";const k=(i=null)=>{const c=h("64px"),o=h("65px"),l=h("0px"),r=s(()=>`calc(100dvh - ${c.value} - ${o.value} - ${l.value})`),m=s(()=>`calc(100dvh - ${c.value})`),_=s(()=>`calc(100dvh - ${o.value})`),d=()=>{{const n=document.querySelector(".js-header");n&&(c.value=n.offsetHeight+"px")}},t=()=>{if(i){const n=document.querySelector(i);n&&(l.value=n.offsetHeight+"px")}},e=()=>{{const n=document.querySelector(".js-bottom-nav");n&&(o.value=n.offsetHeight+"px")}},a=()=>{d(),e(),i&&t()};return{headerHeight:c,bottomNavHeight:o,exceptionHeight:l,contentHeight:r,contentHeightWithHeader:m,contentHeightWithBottomNav:_,updateHeaderHeight:d,updateBottomNavHeight:e,updateExceptionHeight:t,updateAllHeights:a,initializeLayout:()=>{f(()=>{a()})}}},$=g(()=>{const i=v({key:["customer","channels"],query:()=>y().customer.customerChannelGet().then(t=>t.data.channel_code_data),staleTime:6e5}),c=s(()=>{var e,a;const t=[];return(a=(e=i==null?void 0:i.data)==null?void 0:e.value)==null||a.forEach(u=>{let n=t.find(p=>p.channel_id===u.channel_id);n||(n={channel_id:u.channel_id,channel_name:u.channel_name,use_yn:u.use_yn,nick_name:u.nick_name,icon_url:u.icon_url,accounts:[]},t.push(n)),n.accounts.includes(u.account_id)||n.accounts.push(u.account_id)}),t}),o=s(()=>{var t;return(t=c.value)==null?void 0:t.filter(e=>e.use_yn==="Y")}),l=s(()=>{var t;return(t=o==null?void 0:o.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||""}))}),r=s(()=>{var t;return(t=o==null?void 0:o.value)==null?void 0:t.map(e=>({label:e.channel_name,key:e.channel_id,icon:e.icon_url||"",children:e.accounts.map(a=>({label:a,key:`${e.channel_id}::${a}`}))}))});return{...i,channels:c,channelOptions:l,channelOptionsWithAccount:r,getChannelIcon:t=>{var e;return((e=c.value.find(a=>a.channel_id===t))==null?void 0:e.icon_url)??""},getChannelById:t=>c.value.find(e=>e.channel_id===t),getChannelsByName:t=>c.value.filter(e=>{var a;return(a=e.channel_name)==null?void 0:a.includes(t)})}});export{$ as a,k as u};
