import x from"./DUH7KbW9.js";import{g as b,c as u,o as c,A as v,F as g,L as w,a as p,b as f,C as D,M as S,z as $,D as _,t as B,v as T,S as C,I,w as N,T as O,k as j,U as z,m as M,n as P,p as h}from"./CzjPxosm.js";import U from"./CSuvPmDn.js";import A from"./BpygRza9.js";import{u as E,_ as Q}from"./DM39gi5b.js";import{u as F}from"./CEEYV2me.js";const G={key:0},H={class:"flex"},L={class:"self-center flex-1"},ae=b({__name:"Skeleton",props:{type:{type:String,default:"list"},count:{type:Number,default:10},style:{type:String},class:{type:String}},setup(l){const n=l;return(s,a)=>{const e=x;return c(),u(g,null,[l.type==="list"?(c(),u("ul",G,[(c(!0),u(g,null,w(l.count,d=>(c(),u("li",{key:d,class:"mb-4"},[p("div",H,[f(e,{shape:"circle",size:"4rem",class:"mr-2"}),p("div",L,[f(e,{width:"100%",class:"mb-2"}),f(e,{width:"75%"})])])]))),128))])):v("",!0),l.type==="chart"?(c(),u("div",{key:1,class:S(["w-full flex gap-2",n.class]),style:D(n.style)},[(c(!0),u(g,null,w(l.count,d=>(c(),$(e,{key:d,width:`${l.count/100*100}%`,height:"100%"},null,8,["width"]))),128))],6)):v("",!0)],64)}}}),R={class:"mb-4"},K={class:"flex items-center justify-between"},W={class:"block font-medium text-md"},Y={class:"flex items-center mb-2 mt-1"},ne=b({__name:"DateRange",props:{title:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(l,{emit:n}){const s=n,a=E(),e=a().toDate(),d=[{label:"오늘",value:[e,e]},{label:"일주일",value:[a().subtract(1,"week").toDate(),e]},{label:"3개월",value:[a().subtract(3,"month").toDate(),e]},{label:"6개월",value:[a().subtract(6,"month").toDate(),e]},{label:"1년",value:[a().subtract(1,"year").toDate(),e]},{label:"3년",value:[a().subtract(3,"year").toDate(),e]}],k=m=>{d.forEach((t,o)=>{t.label===m&&s("update:modelValue",t.value)})};return(m,t)=>{const o=A,i=U;return c(),u("div",R,[p("div",K,[p("strong",W,B(m.title),1),_(m.$slots,"header-right")]),p("div",Y,[f(o,{options:d,"option-label":"label","option-value":"label",size:"small",class:"w-full",pt:{pctogglebutton:{root:"w-full",content:"px-0!"}},onValueChange:k})]),f(i,{"model-value":m.modelValue,"show-icon":"",fluid:"","icon-display":"input","selection-mode":"range","manual-input":!1,"date-format":"yy.mm.dd",class:"w-full","input-class":"text-sm!",pt:{dayView:"text-sm!"},"onUpdate:modelValue":t[0]||(t[0]=r=>m.$emit("update:modelValue",r))},null,8,["model-value"])])}}}),q={class:"mb-4"},J={class:"block font-medium mb-2 text-md"},se=b({__name:"TreeSelect",props:{title:{},options:{},modelValue:{},placeholder:{}},setup(l){return(n,s)=>{const a=Q;return c(),u("div",q,[p("strong",J,B(n.title),1),f(a,{"model-value":n.modelValue,options:n.options,placeholder:n.placeholder,"onUpdate:modelValue":s[0]||(s[0]=e=>n.$emit("update:modelValue",e))},null,8,["model-value","options","placeholder"])])}}}),ie=b({__name:"Modal",props:{hideHeader:{type:Boolean,default:!1},closeConfirm:{type:Boolean,default:!0},confirmButton:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!1},contentTransition:{type:String,default:"vfm-fade"},overlayTransition:{type:String,default:"vfm-fade"},overlayClass:{type:String,default:""},contentClass:{type:String,default:"bg-white w-full h-full"},lockScroll:{type:Boolean,default:!0},headerClass:{type:String,default:""},focusTrap:{type:Boolean,default:!1}},emits:["update:modelValue","confirm","closed","opened","clickOutside"],setup(l,{emit:n}){const s=n;return T(()=>{const{modals:a,close:e}=C();window.history.pushState(null,"",location.href),window.onpopstate=()=>{e(a[a.length-1].ctx.modalId)}}),I(()=>{const{modals:a,close:e}=C();a.length===0?(window.history.replaceState(window.history.state,"",location.href),window.onpopstate=null):window.onpopstate=()=>{e(a[a.length-1].ctx.modalId)}}),(a,e)=>(c(),$(j(z),O({"modal-id":Math.random().toString(36).substring(2,10)},a.$attrs,{class:"flex justify-center items-center","overlay-class":l.overlayClass,"content-class":["relative modal-contents max-w-[1280px]",l.contentClass],"click-to-close":l.clickToClose,"overlay-transition":l.overlayTransition,"content-transition":l.contentTransition,"hide-overlay":l.hideOverlay,"lock-scroll":l.lockScroll,"focus-trap":l.focusTrap,onClosed:e[1]||(e[1]=d=>s("closed"))}),{default:N(()=>[l.hideHeader?v("",!0):(c(),u("div",{key:0,class:S(`flex items-center justify-between px-4 py-5 ${l.headerClass}`)},[_(a.$slots,"title"),l.closeConfirm?(c(),u("button",{key:0,class:"modal-close-button",onClick:e[0]||(e[0]=()=>s("closed"))},e[2]||(e[2]=[p("i",{class:"pi pi-times"},null,-1)]))):v("",!0)],2)),_(a.$slots,"default")]),_:3},16,["modal-id","overlay-class","content-class","click-to-close","overlay-transition","content-transition","hide-overlay","lock-scroll","focus-trap"]))}}),ce=M(()=>{const l=P({key:["customer","channels"],query:()=>F().customer.customerChannelGet().then(t=>t.data.channel_code_data),staleTime:6e5}),n=h(()=>{var o,i;const t=[];return(i=(o=l==null?void 0:l.data)==null?void 0:o.value)==null||i.forEach(r=>{let y=t.find(V=>V.channel_id===r.channel_id);y||(y={channel_id:r.channel_id,channel_name:r.channel_name,use_yn:r.use_yn,nick_name:r.nick_name,icon_url:r.icon_url,accounts:[]},t.push(y)),y.accounts.includes(r.account_id)||y.accounts.push(r.account_id)}),t}),s=h(()=>{var t;return(t=n.value)==null?void 0:t.filter(o=>o.use_yn==="Y")}),a=h(()=>{var t;return(t=s==null?void 0:s.value)==null?void 0:t.map(o=>({label:o.channel_name,key:o.channel_id,icon:o.icon_url||""}))}),e=h(()=>{var t;return(t=s==null?void 0:s.value)==null?void 0:t.map(o=>({label:o.channel_name,key:o.channel_id,icon:o.icon_url||"",children:o.accounts.map(i=>({label:i,key:`${o.channel_id}::${i}`}))}))});return{...l,channels:n,channelOptions:a,channelOptionsWithAccount:e,getChannelIcon:t=>{var o;return((o=n.value.find(i=>i.channel_id===t))==null?void 0:o.icon_url)??""},getChannelById:t=>n.value.find(o=>o.channel_id===t),getChannelsByName:t=>n.value.filter(o=>{var i;return(i=o.channel_name)==null?void 0:i.includes(t)})}});export{ae as _,ne as a,se as b,ie as c,ce as u};
