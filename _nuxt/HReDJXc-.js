import g from"./Z8Q4kyT7.js";import{g as v,r as i,K as y,B as V,y as T,o as _,w as b,d as j,t as w,j as c,k as C,m as M}from"./3D932mJn.js";const B=v({__name:"TreeMultiSelect",props:{options:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"선택 없음"}},emits:["update:modelValue"],setup(d,{emit:m}){const o=d,f=m,h=[{label:"전체",key:"all",children:o.options}],s=i([]),n=y(()=>{const e=Object.entries(s.value).filter(([t,l])=>l.checked===!0).map(([t])=>t);return o.options.flatMap(t=>t.children||[]).filter(t=>e.includes(t.key))}),k=y(()=>{if(!n.value||n.value.length===0)return o.placeholder;const e=new Map;return n.value.forEach(l=>{const a=o.options.find(r=>{var u;return(u=r.children)==null?void 0:u.some(K=>K.key===l.key)});if(a){const r=e.get(a.label)||0;e.set(a.label,r+1)}}),Array.from(e.entries()).map(([l,a])=>`${l}(${a}개)`).join(", ")}),p=i({all:!0}),x=e=>{p.value=e};return V(n,e=>{f("update:modelValue",e)}),(e,t)=>{const l=g;return _(),T(l,{modelValue:c(s),"onUpdate:modelValue":t[0]||(t[0]=a=>C(s)?s.value=a:null),options:h,"onUpdate:expandedKeys":x,selectionMode:"checkbox",filter:"",filterMode:"lenient",placeholder:d.placeholder,class:"w-full",expandedKeys:c(p),panelClass:"z-[1200]!"},{value:b(a=>[j(w(c(k)),1)]),_:1},8,["modelValue","placeholder","expandedKeys"])}}});function D(){return M}export{B as _,D as u};
