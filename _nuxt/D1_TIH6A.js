import{g as c,v as u,T as a,I as f,z as p,o as t,w as m,c as n,A as r,D as i,M as y,a as v,U as w,k as h,V as k}from"./R2OK_SMX.js";const g=c({__name:"Modal",props:{hideHeader:{type:Boolean,default:!1},closeConfirm:{type:Boolean,default:!0},confirmButton:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!1},contentTransition:{default:"vfm-fade"},overlayTransition:{default:"vfm-fade"},overlayClass:{default:""},contentClass:{default:"bg-white w-full h-full"},lockScroll:{type:Boolean,default:!0},headerClass:{default:""},focusTrap:{type:Boolean,default:!1}},emits:["update:modelValue","confirm","closed","opened","clickOutside"],setup(C,{emit:d}){const s=d;return u(()=>{const{modals:e,close:o}=a();console.log("모달 마운트",e),window.history.pushState(null,"",location.href),window.onpopstate=()=>{var l;console.log("onpopstate"),o((l=e[e.length-1].props)==null?void 0:l.modalId)}}),f(()=>{const{modals:e,close:o}=a();console.log("모달 언마운트",e),e.length===0?(window.history.replaceState(window.history.state,"",location.href),window.onpopstate=null):window.onpopstate=()=>{var l;o((l=e[e.length-1].props)==null?void 0:l.modalId)}}),(e,o)=>(t(),p(h(k),w({"modal-id":Math.random().toString(36).substring(2,10)},e.$attrs,{class:"flex justify-center items-center","overlay-class":e.overlayClass,"content-class":["relative modal-contents max-w-[1280px]",e.contentClass],"click-to-close":e.clickToClose,"overlay-transition":e.overlayTransition,"content-transition":e.contentTransition,"hide-overlay":e.hideOverlay,"lock-scroll":e.lockScroll,"focus-trap":e.focusTrap,onClosed:o[1]||(o[1]=l=>s("closed"))}),{default:m(()=>[e.hideHeader?r("",!0):(t(),n("div",{key:0,class:y(`flex items-center justify-between px-4 py-5 ${e.headerClass}`)},[i(e.$slots,"title"),e.closeConfirm?(t(),n("button",{key:0,class:"modal-close-button",onClick:o[0]||(o[0]=()=>s("closed"))},o[2]||(o[2]=[v("i",{class:"pi pi-times"},null,-1)]))):r("",!0)],2)),i(e.$slots,"default")]),_:3},16,["modal-id","overlay-class","content-class","click-to-close","overlay-transition","content-transition","hide-overlay","lock-scroll","focus-trap"]))}});export{g as _};
