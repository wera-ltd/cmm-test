import B from"./EJLebKt9.js";import{m as F,n as O,p as N,g as T,q as E,z as h,o as c,w as f,a as s,c as _,F as V,L as H,k as d,t as b,A as w,b as p,b3 as z,d as y,M as A,C as Q,X as R,b7 as I,an as v,ao as x,b8 as q,H as W,s as G,y as $,Z as U,Q as X,r as Z,aA as J,D as K,W as Y}from"./1XMXrorC.js";import{u as ee}from"./DGIy74YB.js";import se from"./DuhS_ZyR.js";import{_ as j}from"./CDiEfWqC.js";import te from"./REQiPwsv.js";import le from"./OSHffKwx.js";import{_ as oe}from"./wWSWhJp0.js";import"./Cy-2fxkL.js";import"./DrcS4GKT.js";const P=F(()=>{const i=O({key:()=>["info"],query:()=>ee().customer.customerPropertyGet().then(t=>t.data),staleTime:6e5}),e=N(()=>{var r;const t=(r=i==null?void 0:i.data)==null?void 0:r.value.work_data_list;if(console.log(t),!t)return[];const l=[];return t.pending&&t.pending.forEach(n=>{l.push({...n,state:"pending"})}),t.complate&&t.complate.forEach(n=>{l.push({...n,state:"complete"})}),l.sort((n,o)=>{const m=new Date(n.created_at);return new Date(o.created_at).getTime()-m.getTime()})});return{...i,workData:e}}),ne={class:"flex flex-col gap-3"},ae={class:"list-none p-0 m-0 flex flex-col gap-1"},re={class:"flex items-center gap-2"},ie={class:"text-surface-500 dark:text-surface-100"},ce={class:"ml-auto font-medium"},ue={key:0,class:"text-teal-500"},de={key:1,class:"text-yellow-500"};const pe={class:"text-xxs text-gray-400"},me=T({__name:"TaskMonitoring",setup(i,{expose:e}){const t=E("$elTaskMonitoring");e({toggle:n=>{var o;(o=t.value)==null||o.toggle(n)}});const{workData:r}=P();return(n,o)=>{const m=B;return c(),h(m,{ref_key:"$elTaskMonitoring",ref:t},{default:f(()=>[s("div",ne,[o[0]||(o[0]=s("div",{class:""},[s("h2",{class:"font-semibold block text-sm"}," 작업 현황 ")],-1)),s("div",null,[s("ul",ae,[(c(!0),_(V,null,H(d(r),(a,u)=>(c(),_("li",{key:u,class:"text-xs bg-gray-50 p-2 rounded-md"},[s("div",re,[s("div",null,[s("span",ie," 작업자: "+b(a.worker_name),1)]),s("div",ce,[a.state==="complete"?(c(),_("span",ue," 작업완료 ")):w("",!0),a.state==="pending"?(c(),_("span",de," 작업대기 ")):w("",!0),w("",!0)])]),s("p",pe,b(a.created_at),1)]))),128))])])])]),_:1},512)}}}),fe={class:"flex flex-col gap-3"},_e={class:"flex flex-col gap-1"},ve={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},xe={class:"ml-auto font-medium"},he={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},ye={class:"ml-auto font-medium"},ge={class:"mt-2"},ke={class:"flex flex-col gap-1"},$e={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},be={class:"ml-auto font-medium"},Ce={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},we={class:"ml-auto font-medium"},Te={class:"text-xs bg-gray-100 px-2 py-1 rounded-md flex items-center gap-2"},Se={class:"ml-auto font-medium"},Ee=T({__name:"TransmissionErrorStatus",setup(i,{expose:e}){const t=E("$elTransmissionErrorStatus");e({toggle:n=>{var o;(o=t.value)==null||o.toggle(n)}});const{data:r}=P();return(n,o)=>{const m=z,a=B;return c(),h(a,{ref_key:"$elTransmissionErrorStatus",ref:t},{default:f(()=>[s("div",fe,[o[6]||(o[6]=s("h2",{class:"font-semibold block text-sm"}," 전송 에러 현황 ",-1)),s("div",_e,[s("div",ve,[o[0]||(o[0]=s("span",{class:"text-surface-500 dark:text-surface-100"}," 1. 전송실패오류 ",-1)),s("div",xe,[p(m,{value:d(r).other_info.error_count,severity:"danger",class:"rounded-full!"},null,8,["value"])])]),s("div",he,[o[1]||(o[1]=s("span",{class:"text-surface-500 dark:text-surface-100"}," 2. 신규 매핑 재전송 ",-1)),s("div",ye,[p(m,{value:d(r).other_info.new_trans_count,severity:"secondary",class:"rounded-full! bg-white!"},null,8,["value"])])])]),s("div",ge,[o[5]||(o[5]=s("p",{class:"text-sm mb-1"}," 매핑 정보 ",-1)),s("div",ke,[s("div",$e,[o[2]||(o[2]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 옵션 변경건 ",-1)),s("div",be,[p(m,{value:d(r).other_info.channel_product_mapping_info.change_option_count,severity:"danger",class:"rounded-full! bg-yellow-500!"},null,8,["value"])])]),s("div",Ce,[o[3]||(o[3]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 매핑 부분완료 ",-1)),s("div",we,[p(m,{value:d(r).other_info.channel_product_mapping_info.part_complete_count,severity:"danger",class:"rounded-full! bg-yellow-500!"},null,8,["value"])])]),s("div",Te,[o[4]||(o[4]=s("span",{class:"text-surface-500 dark:text-surface-100"}," - 매핑 미완료 ",-1)),s("div",Se,[p(m,{value:d(r).other_info.channel_product_mapping_info.incomplete_count,severity:"danger",class:"rounded-full! bg-yellow-500!"},null,8,["value"])])])])])])]),_:1},512)}}}),De={class:"pl-4 md:max-h-16 py-4 pr-4 flex md:flex-row flex-col items-center justify-between gap-4 js-header"},Le={key:0,class:"flex items-center w-full justify-between"},Ae={class:"flex items-center"},Pe={key:1,class:"pi pi-file-check text-xl!"},Me={class:"text-[0.8rem] text-[#484848] font-semibold"},Be={class:"text-xs text-[#888888] block font-light mt-0.25"},je={class:"flex items-center gap-2"},Fe={class:"ppc-progress"},Oe={class:"ppc-percents"},Ne={class:"pcc-percents-wrapper"},Ve=T({__name:"DashboardHeader",setup(i){const e=E("$elTaskMonitoringPopover"),t=E("$elTransmissionErrorStatusPopover"),l=a=>{var u;(u=e.value)==null||u.toggle(a)},r=a=>{var u;(u=t.value)==null||u.toggle(a)},{data:n,isLoading:o,workData:m}=P();return(a,u)=>{const g=se,D=me,L=Ee;return c(),_("header",De,[!d(o)&&d(n)?(c(),_("div",Le,[s("div",Ae,[s("button",{class:"cursor-pointer bg-[#ffffff] mr-2 w-8 h-8 flex items-center text-[#4b4b4c] rounded-full justify-center hover:surface-100 dark:hover:surface-800 transition-all duration-300",onClick:l},[d(m).length>0?(c(),h(g,{key:0,severity:"danger",class:"inline-flex"},{default:f(()=>u[0]||(u[0]=[s("i",{class:"pi pi-file-check text-xl!"},null,-1)])),_:1,__:[0]})):(c(),_("i",Pe))]),p(D,{ref_key:"$elTaskMonitoringPopover",ref:e,class:"w-2/3"},null,512),s("p",Me,[y(" 종료일: "+b(d(n).expiration_date)+" ",1),s("small",Be,b(d(n).service_name),1)])]),s("div",je,[s("div",{class:A(["progress-pie-chart",{"gt-50":parseInt(d(n).use_product_ratio.replace("%",""))>50}])},[s("div",Fe,[s("div",{class:"ppc-progress-fill",style:Q({transform:`rotate(${360*parseInt(d(n).use_product_ratio.replace("%",""))/100}deg)`})},null,4)]),s("div",Oe,[s("div",Ne,[s("span",null,b(d(n).use_product_ratio),1)])])],2),u[2]||(u[2]=s("button",{class:"cursor-pointer w-6 h-full text-[#4b4b4c] rounded-md hover:bg-surface-100 active:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300"},[s("div",{class:"flex items-center justify-center hover:animate-spin active:animate-spin"},[s("i",{class:"pi pi-sync text-lg!"})])],-1)),s("button",{class:"cursor-pointer w-6 h-full text-[#4b4b4c] flex items-center justify-center rounded-md bder hover:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300",onClick:r},u[1]||(u[1]=[s("i",{class:"pi pi-exclamation-triangle text-lg! hover:text-red-500 active:text-red-500"},null,-1)])),p(L,{ref_key:"$elTransmissionErrorStatusPopover",ref:t,class:"w-2/3 after:left-[95%]! before:left-[95%]!"},null,512),u[3]||(u[3]=s("button",{type:"button",class:"cursor-pointer w-6 h-full text-[#4b4b4c] rounded-md hover:bg-surface-100 active:bg-surface-100 dark:hover:bg-surface-800 transition-all duration-300"},[s("i",{class:"pi pi-bell text-lg!"})],-1))])])):w("",!0)])}}});var He=R.extend({name:"styleclass-directive"}),ze=I.extend({style:He}),Qe=ze.extend("styleclass",{mounted:function(e,t){e.setAttribute("data-pd-styleclass",!0),this.bind(e,t)},unmounted:function(e){this.unbind(e)},methods:{bind:function(e,t){var l=this,r=this.resolveTarget(e,t);this.$el=r,e.$_pstyleclass_clicklistener=function(){t.value.toggleClass?q(r,t.value.toggleClass)?x(r,t.value.toggleClass):v(r,t.value.toggleClass):r.offsetParent===null?l.enter(r,e,t):l.leave(r,t)},e.addEventListener("click",e.$_pstyleclass_clicklistener)},unbind:function(e){e.$_pstyleclass_clicklistener&&(e.removeEventListener("click",e.$_pstyleclass_clicklistener),e.$_pstyleclass_clicklistener=null),this.unbindDocumentListener(e)},enter:function(e,t,l){l.value.enterActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,l.value.enterActiveClass.includes("slidedown")&&(e.style.height="0px",x(e,l.value.hiddenClass||l.value.enterFromClass),e.style.maxHeight=e.scrollHeight+"px",v(e,l.value.hiddenClass||l.value.enterActiveClass),e.style.height=""),v(e,l.value.enterActiveClass),l.value.enterFromClass&&x(e,l.value.enterFromClass),e.$p_styleclass_enterlistener=function(){x(e,l.value.enterActiveClass),l.value.enterToClass&&v(e,l.value.enterToClass),e.removeEventListener("animationend",e.$p_styleclass_enterlistener),l.value.enterActiveClass.includes("slidedown")&&(e.style.maxHeight=""),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_enterlistener)):(l.value.enterFromClass&&x(e,l.value.enterFromClass),l.value.enterToClass&&v(e,l.value.enterToClass)),l.value.hideOnOutsideClick&&this.bindDocumentListener(e,t,l)},leave:function(e,t){t.value.leaveActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,v(e,t.value.leaveActiveClass),t.value.leaveFromClass&&x(e,t.value.leaveFromClass),e.$p_styleclass_leavelistener=function(){x(e,t.value.leaveActiveClass),t.value.leaveToClass&&v(e,t.value.leaveToClass),e.removeEventListener("animationend",e.$p_styleclass_leavelistener),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_leavelistener)):(t.value.leaveFromClass&&x(e,t.value.leaveFromClass),t.value.leaveToClass&&v(e,t.value.leaveToClass)),t.value.hideOnOutsideClick&&this.unbindDocumentListener(e)},resolveTarget:function(e,t){switch(t.value.selector){case"@next":return e.nextElementSibling;case"@prev":return e.previousElementSibling;case"@parent":return e.parentElement;case"@grandparent":return e.parentElement.parentElement;default:return document.querySelector(t.value.selector)}},bindDocumentListener:function(e,t,l){var r=this;e.$p_styleclass_documentlistener||(e.$p_styleclass_documentlistener=function(n){!r.isVisible(e)||getComputedStyle(e).getPropertyValue("position")==="static"?r.unbindDocumentListener(e):r.isOutsideClick(n,e,t)&&r.leave(e,l)},e.ownerDocument.addEventListener("click",e.$p_styleclass_documentlistener))},unbindDocumentListener:function(e){e.$p_styleclass_documentlistener&&(e.ownerDocument.removeEventListener("click",e.$p_styleclass_documentlistener),e.$p_styleclass_documentlistener=null)},isVisible:function(e){return e.offsetParent!==null},isOutsideClick:function(e,t,l){return!l.isSameNode(e.target)&&!l.contains(e.target)&&!t.contains(e.target)}}});const Re={class:"card flex justify-center"},Ie={class:"flex flex-col h-full"},qe={class:"flex items-center justify-between px-6 pt-4 shrink-0"},We={class:"overflow-y-auto"},Ge={class:"list-none p-4 m-0"},Ue={class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple"},Xe={class:"list-none py-0 pl-4 pr-0 m-0 hidden overflow-y-hidden transition-all duration-[400ms] ease-in-out"},Ze={class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple"},Je={class:"list-none py-0 pl-4 pr-0 m-0 hidden overflow-y-hidden transition-all duration-[400ms] ease-in-out"},Ke={class:"mt-auto"},Ye={class:"m-4 flex items-center justify-between cursor-pointer p-4 gap-2 rounded hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors"},es={class:"gap-2 flex items-center text-gray-600"},ss={class:"font-medium"},ts=T({__name:"MenuDrawer",props:{isShowMenu:{type:Boolean,default:!1}},emits:["onClose"],setup(i,{emit:e}){const t=e,{signOut:l,memberInfo:r}=W(),n=m=>{t("onClose",m)},o=()=>{l(),X("/auth/login")};return(m,a)=>{const u=G,g=j,D=le,L=te,k=U,S=Qe;return c(),_("div",Re,[p(L,{visible:i.isShowMenu,"onUpdate:visible":n},{container:f(({closeCallback:C})=>{var M;return[s("div",Ie,[s("div",qe,[a[0]||(a[0]=s("div",{class:"inline-flex items-center gap-2"},[s("img",{src:oe,alt:"logo"})],-1)),p(u,{type:"button",icon:"pi pi-times",rounded:"",outlined:"",class:"text-gray-600! border-gray-600!",onClick:C},null,8,["onClick"])]),s("div",We,[s("ul",Ge,[s("li",null,[$((c(),h(g,{to:"/",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:f(()=>a[1]||(a[1]=[s("i",{class:"pi pi-home mr-2"},null,-1),s("span",{class:"font-medium"},"Dashboard",-1)])),_:2,__:[1]},1032,["onClick"])),[[k]])]),s("li",null,[$((c(),h(g,{to:"/inventory",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:f(()=>a[2]||(a[2]=[s("i",{class:"pi pi-box mr-2"},null,-1),s("span",{class:"font-medium"},"재고관리",-1)])),_:2,__:[2]},1032,["onClick"])),[[k]])]),s("li",null,[$((c(),_("a",Ue,a[3]||(a[3]=[s("i",{class:"pi pi-list mr-2"},null,-1),s("span",{class:"font-medium"},"작업내역",-1),s("i",{class:"pi pi-chevron-down ml-auto text-sm!"},null,-1)]))),[[k],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]]),s("ul",Xe,[s("li",null,[$((c(),h(g,{to:"/task/error-list",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:f(()=>a[4]||(a[4]=[s("i",{class:"pi pi-exclamation-triangle mr-2"},null,-1),s("span",{class:"font-medium"},"작업오류현황",-1)])),_:2,__:[4]},1032,["onClick"])),[[k],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]])])])]),s("li",null,[$((c(),_("a",Ze,a[5]||(a[5]=[s("i",{class:"pi pi-cog mr-2"},null,-1),s("span",{class:"font-medium"},"설정",-1),s("i",{class:"pi pi-chevron-down ml-auto text-sm!"},null,-1)]))),[[k],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]]),s("ul",Je,[s("li",null,[$((c(),h(g,{to:"/setting/user-list",class:"flex items-center cursor-pointer p-4 rounded text-neutral-500 hover:bg-surface-100 dark:text-surface-0 dark:hover:bg-surface-800 duration-150 transition-colors p-ripple",onClick:C},{default:f(()=>a[6]||(a[6]=[s("i",{class:"pi pi-calendar-clock mr-2"},null,-1),s("span",{class:"font-medium"},"스케줄설정",-1)])),_:2,__:[6]},1032,["onClick"])),[[k],[S,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-slidedown",leaveToClass:"hidden",leaveActiveClass:"animate-slideup"}]])])])])])]),s("div",Ke,[a[8]||(a[8]=s("hr",{class:"mb-4 mx-4 border-t border-0 border-surface-200 dark:border-surface-700"},null,-1)),s("div",Ye,[s("div",es,[p(D,{icon:"pi pi-user",shape:"circle"}),s("span",ss,b((M=d(r))==null?void 0:M.user_id),1)]),p(u,{rounded:"",outlined:"",class:"text-sm!",severity:"secondary",onClick:o},{default:f(()=>a[7]||(a[7]=[y(" 로그아웃 ")])),_:1,__:[7]})])])])]}),_:1},8,["visible"])])}}}),ls={class:"flex py-1 px-2 bg-white border-t border-[#dedede] max-w-[1280px] fixed bottom-0 left-auto w-full z-100 rounded-tl-3xl rounded-tr-3xl js-bottom-nav"},os=T({__name:"BottomNav",setup(i){const e=Z(!1),t=()=>{e.value=!e.value},l=()=>{e.value=!1};return(r,n)=>{const o=j,m=ts;return c(),_("div",null,[s("nav",ls,[p(o,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/"},{default:f(()=>n[0]||(n[0]=[s("i",{class:"pi pi-home text-xl! mb-0.5"},null,-1),y(" HOME ")])),_:1,__:[0]}),p(o,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/inventory"},{default:f(()=>n[1]||(n[1]=[s("i",{class:"pi pi-box text-lg! mb-0.5"},null,-1),y(" 재고관리 ")])),_:1,__:[1]}),p(o,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:""},{default:f(()=>n[2]||(n[2]=[s("i",{class:"pi pi-map text-lg! mb-0.5"},null,-1),y(" 채널매핑 ")])),_:1,__:[2]}),p(o,{class:"text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",to:"/task/error-list"},{default:f(()=>n[3]||(n[3]=[s("i",{class:"pi pi-history text-lg! mb-0.5"},null,-1),y(" 작업내역 ")])),_:1,__:[3]}),s("button",{class:A(["text-xs flex flex-col justify-center items-center w-1/4 h-14 text-gray-400",d(e)?"text-gray-950":"text-gray-400"]),onClick:t},n[4]||(n[4]=[s("i",{class:"pi pi-bars text-lg! mb-0.5"},null,-1),y(" 메뉴 ")]),2)]),p(m,{"is-show-menu":d(e),onOnClose:l},null,8,["is-show-menu"])])}}}),ns=()=>J().$device,as={class:"flex-1 max-w-[1280px] w-full mx-auto flex flex-col transition-all duration-300 h-full overflow-hidden"},xs={__name:"default",setup(i){const{isMobile:e,isTablet:t}=ns();return(l,r)=>{const n=Ve,o=os;return c(),_("div",{class:A(["portrait:h-dvh landscape:min-h-dvh bg-gray-100 dark:bg-surface-950 relative flex overflow-hidden flex-row landscape:pb-[65px]",{"is-touch-device":d(e)||d(t)}])},[s("div",as,[(l._.provides[Y]||l.$route).meta.type==="dashboard"?(c(),h(n,{key:0})):w("",!0),K(l.$slots,"default"),p(o,{class:"shrink-0"})])],2)}}};export{xs as default};
